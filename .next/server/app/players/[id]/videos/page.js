(()=>{var e={};e.id=311,e.ids=[311],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},665:e=>{"use strict";e.exports=require("dns")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8216:e=>{"use strict";e.exports=require("net")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},5816:e=>{"use strict";e.exports=require("process")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},3651:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(2532),s(9548),s(5866);var r=s(3191),a=s(8716),l=s(7922),i=s.n(l),o=s(5231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let d=["",{children:["players",{children:["[id]",{children:["videos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2532)),"C:\\Privat\\CST\\Scouting\\scouting-app\\app\\players\\[id]\\videos\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9548)),"C:\\Privat\\CST\\Scouting\\scouting-app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Privat\\CST\\Scouting\\scouting-app\\app\\players\\[id]\\videos\\page.tsx"],u="/players/[id]/videos/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/players/[id]/videos/page",pathname:"/players/[id]/videos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8838:(e,t,s)=>{Promise.resolve().then(s.bind(s,732))},1224:(e,t,s)=>{Promise.resolve().then(s.bind(s,9507))},7370:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},9507:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(326),a=s(7577),l=s(5047),i=s(76),o=s(902),n=s(732),d=s(434);function c(){let e=(0,l.useParams)().id,{user:t,role:s}=(0,n.a)(),[c,u]=(0,a.useState)([]),[p,x]=(0,a.useState)({}),[m,h]=(0,a.useState)(!0),[b,v]=(0,a.useState)(""),[g,f]=(0,a.useState)(""),[y,P]=(0,a.useState)("YouTube"),[j,N]=(0,a.useState)(null),S=async()=>{h(!0);try{let t=(0,i.query)((0,i.collection)(o.db,"playerVideos"),(0,i.where)("playerId","==",e)),s=(await (0,i.getDocs)(t)).docs.map(e=>({id:e.id,...e.data()}));u(s)}finally{h(!1)}},_=async s=>{if(s.preventDefault(),b&&g)try{N("Video wird gespeichert..."),await (0,i.addDoc)((0,i.collection)(o.db,"playerVideos"),{playerId:e,title:b,url:g,source:y,createdAt:Date.now(),addedByUid:t?.uid||null}),v(""),f(""),N("Video hinzugef\xfcgt."),await S()}catch(e){console.error(e),N("Fehler beim Speichern.")}},C=async e=>{if(confirm("Video wirklich l\xf6schen?"))try{await (0,i.deleteDoc)((0,i.doc)(o.db,"playerVideos",e)),u(t=>t.filter(t=>t.id!==e))}catch(e){console.error(e),alert("Fehler beim L\xf6schen.")}},w=async e=>{if(!t)return;let s=p[e.id];if(s){await (0,i.deleteDoc)((0,i.doc)(o.db,"videoFavorites",s));let t={...p};delete t[e.id],x(t);return}let r=await (0,i.addDoc)((0,i.collection)(o.db,"videoFavorites"),{userId:t.uid,playerId:e.playerId,videoId:e.id,playerName:"(Spieler)",videoTitle:e.title,videoUrl:e.url,createdAt:Date.now()});x(t=>({...t,[e.id]:r.id}))};return(0,r.jsxs)("main",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-xl font-semibold",children:"Videos zu diesem Spieler"}),r.jsx(d.default,{href:`/players/${e}`,className:"text-sm text-slate-400 hover:text-slate-200",children:"← Zur\xfcck zum Profil"})]}),r.jsx("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-4 text-sm",children:r.jsx("p",{className:"text-slate-300",children:"Du kannst externe Videos (z.B. YouTube, Wyscout Clips) suchen und die relevanten Links hier abspeichern."})}),"admin"===s&&(0,r.jsxs)("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-4 space-y-3",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Video hinzuf\xfcgen"}),(0,r.jsxs)("form",{onSubmit:_,className:"grid md:grid-cols-3 gap-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs text-slate-400",children:"Titel"}),r.jsx("input",{value:b,onChange:e=>v(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1",placeholder:"z.B. Highlights vs. XYZ"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs text-slate-400",children:"Video URL"}),r.jsx("input",{value:g,onChange:e=>f(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1",placeholder:"https://youtube.com/..."})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{className:"text-xs text-slate-400",children:"Quelle"}),r.jsx("input",{value:y,onChange:e=>P(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1",placeholder:"YouTube / Wyscout / ..."})]}),(0,r.jsxs)("div",{className:"md:col-span-3 flex gap-3 items-center mt-2",children:[r.jsx("button",{type:"submit",className:"rounded-lg bg-emerald-500 px-4 py-2 text-sm font-semibold text-slate-900 hover:bg-emerald-400",children:"Video speichern"}),j&&r.jsx("span",{className:"text-xs text-slate-400",children:j})]})]})]}),(0,r.jsxs)("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-4 space-y-3",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Gespeicherte Videos"}),m&&r.jsx("p",{className:"text-sm text-slate-400",children:"Lade Videos..."}),!m&&0===c.length&&r.jsx("p",{className:"text-sm text-slate-500",children:"Noch keine Videos gespeichert."}),r.jsx("div",{className:"space-y-4",children:c.map(e=>{let t=!!p[e.id],a=e.url.includes("youtube.com")||e.url.includes("youtu.be");return(0,r.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-semibold",children:e.title}),(0,r.jsxs)("p",{className:"text-xs text-slate-400",children:["Quelle: ",e.source||"Unbekannt"]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>w(e),className:`text-xs px-3 py-1 rounded-lg border ${t?"border-emerald-400 text-emerald-300":"border-slate-700 text-slate-300"}`,children:t?"★ Favorit":"☆ Favorit"}),"admin"===s&&r.jsx("button",{onClick:()=>C(e.id),className:"text-xs px-3 py-1 rounded-lg border border-red-500 text-red-400",children:"L\xf6schen"})]})]}),a?r.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden border border-slate-800 mt-2",children:r.jsx("iframe",{src:function(e){try{if(e.includes("embed"))return e;if(e.includes("watch?v="))return e.replace("watch?v=","embed/");if(e.includes("youtu.be/")){let t=e.split("youtu.be/")[1].split(/[?&]/)[0];return`https://www.youtube.com/embed/${t}`}return e}catch{return e}}(e.url),className:"w-full h-full",allowFullScreen:!0})}):r.jsx("a",{href:e.url,target:"_blank",className:"text-emerald-400 text-xs hover:text-emerald-300",children:"→ Video \xf6ffnen"})]},e.id)})})]})]})}},732:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>n,a:()=>d});var r=s(326),a=s(7577),l=s(902),i=s(8108);s(76);let o=(0,a.createContext)({user:null,role:null,loading:!0,logout:async()=>{}});function n({children:e}){let[t,s]=(0,a.useState)(null),[n,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0),p=async()=>{await (0,i.w7)(l.I)};return r.jsx(o.Provider,{value:{user:t,role:n,loading:c,logout:p},children:e})}let d=()=>(0,a.useContext)(o)},902:(e,t,s)=>{"use strict";s.d(t,{I:()=>c,db:()=>d,t:()=>u});var r=s(2585),a=s(76),l=s(8108),i=s(1552);let o={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID};o.projectId||console.warn("Firebase config not set. Check .env.local");let n=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)(o),d=(0,a.getFirestore)(n),c=(0,l.v0)(n),u=(0,i.cF)(n)},5047:(e,t,s)=>{"use strict";var r=s(7389);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},9548:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>i});var r=s(9510);s(7272);var a=s(8570);let l=(0,a.createProxy)(String.raw`C:\Privat\CST\Scouting\scouting-app\context\AuthContext.tsx#AuthProvider`);(0,a.createProxy)(String.raw`C:\Privat\CST\Scouting\scouting-app\context\AuthContext.tsx#useAuth`);let i={title:"Scout360",description:"Internes Scouting-Tool"};function o({children:e}){return r.jsx("html",{lang:"de",children:r.jsx("body",{className:"bg-slate-950 text-slate-50",children:r.jsx(l,{children:e})})})}},2532:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Privat\CST\Scouting\scouting-app\app\players\[id]\videos\page.tsx#default`)},7272:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[978,434],()=>s(3651));module.exports=r})();
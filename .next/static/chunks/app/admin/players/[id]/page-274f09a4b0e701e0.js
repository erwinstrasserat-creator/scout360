(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{728:function(e,t,a){Promise.resolve().then(a.bind(a,3652))},3652:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var s=a(7437),l=a(2265),n=a(9376),r=a(5978),i=a(7293);function o(){var e,t;let{id:a}=(0,n.useParams)(),o=(0,n.useRouter)(),[c,u]=(0,l.useState)(null),[d,m]=(0,l.useState)(!0),[x,p]=(0,l.useState)(!1),[h,b]=(0,l.useState)(null),[g,f]=(0,l.useState)(""),[N,v]=(0,l.useState)("");(0,l.useEffect)(()=>{a&&(async()=>{try{let e=(0,r.doc)(i.db,"players",a),t=await (0,r.getDoc)(e);if(t.exists()){let e=t.data(),a={id:t.id,...e};u(a),f((e.strengths||[]).join(", ")),v((e.weaknesses||[]).join(", "))}}catch(e){console.error(e),b("Fehler beim Laden des Spielers.")}finally{m(!1)}})()},[a]);let _=async e=>{if(e.preventDefault(),c){p(!0),b(null);try{let e=g.split(",").map(e=>e.trim()).filter(Boolean),t=N.split(",").map(e=>e.trim()).filter(Boolean);await (0,r.updateDoc)((0,r.doc)(i.db,"players",c.id),{...c,strengths:e,weaknesses:t}),o.push("/admin/players")}catch(e){console.error(e),b("Fehler beim Speichern.")}finally{p(!1)}}};return d?(0,s.jsx)("p",{className:"text-slate-400 text-sm",children:"Lade Spieler..."}):c?(0,s.jsxs)("main",{className:"max-w-lg space-y-4",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold",children:"Spieler bearbeiten"}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:c.name}),(0,s.jsxs)("form",{onSubmit:_,className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-xs text-slate-400",children:"Potenzial (0â€“100)"}),(0,s.jsx)("input",{type:"number",min:0,max:100,value:null!==(e=c.potentialRating)&&void 0!==e?e:"",onChange:e=>u(t=>t?{...t,potentialRating:""===e.target.value?0:Number(e.target.value)}:t),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1 outline-none focus:border-emerald-400"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-xs text-slate-400",children:"Gr\xf6\xdfe (cm)"}),(0,s.jsx)("input",{type:"number",min:150,max:210,value:null!==(t=c.heightCm)&&void 0!==t?t:"",onChange:e=>u(t=>t?{...t,heightCm:""===e.target.value?void 0:Number(e.target.value)}:t),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1 outline-none focus:border-emerald-400"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-xs text-slate-400",children:"St\xe4rken (kommagetrennt)"}),(0,s.jsx)("input",{value:g,onChange:e=>f(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1 outline-none focus:border-emerald-400"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-xs text-slate-400",children:"Entwicklungsfelder (kommagetrennt)"}),(0,s.jsx)("input",{value:N,onChange:e=>v(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1 outline-none focus:border-emerald-400"})]}),h&&(0,s.jsx)("p",{className:"text-xs text-red-400",children:h}),(0,s.jsxs)("div",{className:"flex gap-3 mt-2",children:[(0,s.jsx)("button",{type:"submit",disabled:x,className:"rounded-lg bg-emerald-500 px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-emerald-400 disabled:opacity-60",children:x?"Speichere...":"\xc4nderungen speichern"}),(0,s.jsx)("button",{type:"button",onClick:()=>o.back(),className:"text-xs text-slate-400 hover:text-slate-200",children:"Abbrechen"})]})]})]}):(0,s.jsx)("p",{className:"text-red-400 text-sm",children:"Spieler nicht gefunden."})}},7293:function(e,t,a){"use strict";a.d(t,{I:function(){return d},db:function(){return u},t:function(){return m}});var s=a(738),l=a(5978),n=a(3301),r=a(62),i=a(257);let o={apiKey:i.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:i.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:i.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:i.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:i.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:i.env.NEXT_PUBLIC_FIREBASE_APP_ID};o.projectId||console.warn("Firebase config not set. Check .env.local");let c=(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)(o),u=(0,l.getFirestore)(c),d=(0,n.v0)(c),m=(0,r.cF)(c)},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[358,990,933,971,117,744],function(){return e(e.s=728)}),_N_E=e.O()}]);
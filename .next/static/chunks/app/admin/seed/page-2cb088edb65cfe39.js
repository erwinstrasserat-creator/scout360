(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[258],{5521:function(e,t,r){Promise.resolve().then(r.bind(r,3976))},3976:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var n=r(7437),s=r(2265),l=r(7293),a=r(5978);function i(){let[e,t]=(0,s.useState)([]),[i,c]=(0,s.useState)(null),o=async e=>{var r;let n=null===(r=e.target.files)||void 0===r?void 0:r[0];if(!n)return;let s=await n.text();try{let e=JSON.parse(s);Array.isArray(e)?(t(e),c("Datei geladen: ".concat(e.length," Spieler"))):c("Fehler: JSON muss ein Array sein")}catch(e){c("Fehler beim Lesen der Datei")}},d=async()=>{try{for(let t of(c("Lade Spieler..."),e))await (0,a.setDoc)((0,a.doc)((0,a.collection)(l.db,"players")),t);c("Spieler erfolgreich importiert!")}catch(e){c("Fehler beim Importieren")}},u=async()=>{if(!confirm("Sicher, dass du ALLE Spieler l\xf6schen m\xf6chtest?"))return;c("L\xf6sche Spieler...");let e=(0,a.collection)(l.db,"players");for(let t of(await Promise.resolve().then(r.bind(r,5978)).then(t=>t.getDocs(e))).docs)await (0,a.deleteDoc)(t.ref);c("Datenbank geleert.")};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:"Spieler Import (Seed)"}),(0,n.jsxs)("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-slate-400 mb-2",children:"Lade eine JSON Datei mit Spielern:"}),(0,n.jsx)("input",{type:"file",accept:".json",onChange:o,className:"text-sm"})]}),i&&(0,n.jsx)("div",{className:"text-sm text-emerald-400",children:i}),e.length>0&&(0,n.jsx)("div",{className:"rounded-lg bg-slate-950 p-3 border border-slate-800 text-xs max-h-64 overflow-auto",children:(0,n.jsx)("pre",{children:JSON.stringify(e,null,2)})}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("button",{onClick:d,className:"rounded-lg bg-emerald-500 px-4 py-2 text-slate-900 font-semibold hover:bg-emerald-400",children:"Spieler importieren"}),(0,n.jsx)("button",{onClick:u,className:"rounded-lg bg-red-500 px-4 py-2 text-slate-900 font-semibold hover:bg-red-400",children:"Datenbank leeren"})]})]})]})}},7293:function(e,t,r){"use strict";r.d(t,{I:function(){return u},db:function(){return d},t:function(){return h}});var n=r(738),s=r(5978),l=r(3301),a=r(62),i=r(257);let c={apiKey:i.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:i.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:i.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:i.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:i.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:i.env.NEXT_PUBLIC_FIREBASE_APP_ID};c.projectId||console.warn("Firebase config not set. Check .env.local");let o=(0,n.C6)().length?(0,n.Mq)():(0,n.ZF)(c),d=(0,s.getFirestore)(o),u=(0,l.v0)(o),h=(0,a.cF)(o)}},function(e){e.O(0,[358,990,933,971,117,744],function(){return e(e.s=5521)}),_N_E=e.O()}]);
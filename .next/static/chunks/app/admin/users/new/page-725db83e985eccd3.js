(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{5287:function(e,s,t){Promise.resolve().then(t.bind(t,6370))},6370:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var a=t(7437),r=t(2265),n=t(3301),l=t(7293),u=t(5978),o=t(9376);function c(){let[e,s]=(0,r.useState)(""),[t,c]=(0,r.useState)(""),[d,i]=(0,r.useState)("reader"),[m,x]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),p=(0,o.useRouter)(),b=async s=>{s.preventDefault(),x(null),f(!0);try{let s=await (0,n.Xb)(l.I,e,t);await (0,u.setDoc)((0,u.doc)(l.db,"userRoles",s.user.uid),{role:d,email:e}),p.push("/admin/users")}catch(e){console.error(e),x(e.message||"Fehler beim Anlegen.")}finally{f(!1)}};return(0,a.jsxs)("main",{className:"max-w-sm space-y-4",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Neuen Benutzer einladen"}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("label",{className:"text-xs text-slate-400",children:"E-Mail"}),(0,a.jsx)("input",{required:!0,type:"email",value:e,onChange:e=>s(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1 outline-none focus:border-emerald-400"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("label",{className:"text-xs text-slate-400",children:"Passwort"}),(0,a.jsx)("input",{required:!0,type:"password",value:t,minLength:6,onChange:e=>c(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1 outline-none focus:border-emerald-400"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("label",{className:"text-xs text-slate-400",children:"Rolle"}),(0,a.jsxs)("select",{value:d,onChange:e=>i(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1",children:[(0,a.jsx)("option",{value:"admin",children:"admin"}),(0,a.jsx)("option",{value:"reader",children:"reader"})]})]}),m&&(0,a.jsx)("p",{className:"text-xs text-red-400",children:m}),(0,a.jsx)("button",{type:"submit",disabled:h,className:"w-full rounded-lg bg-emerald-500 py-2 text-sm font-semibold text-slate-950 hover:bg-emerald-400 disabled:opacity-60",children:h?"Erstelle Benutzer...":"Benutzer anlegen"})]})]})}},7293:function(e,s,t){"use strict";t.d(s,{I:function(){return i},db:function(){return d},t:function(){return m}});var a=t(738),r=t(5978),n=t(3301),l=t(62),u=t(257);let o={apiKey:u.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:u.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:u.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:u.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:u.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:u.env.NEXT_PUBLIC_FIREBASE_APP_ID};o.projectId||console.warn("Firebase config not set. Check .env.local");let c=(0,a.C6)().length?(0,a.Mq)():(0,a.ZF)(o),d=(0,r.getFirestore)(c),i=(0,n.v0)(c),m=(0,l.cF)(c)},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[358,990,933,971,117,744],function(){return e(e.s=5287)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{9553:function(e,a,l){Promise.resolve().then(l.bind(l,8902))},8902:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return c}});var s=l(7437),n=l(2265),t=l(9376),r=l(5978),i=l(7293),o=l(62);function c(){let{id:e}=(0,t.useParams)();(0,t.useRouter)();let[a,l]=(0,n.useState)(null),[c,g]=(0,n.useState)(!0),[m,x]=(0,n.useState)(!1),[b,p]=(0,n.useState)(!1),[j,f]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{let a=await (0,r.getDoc)((0,r.doc)(i.db,"players",e));a.exists()&&l({id:a.id,...a.data()}),g(!1)})()},[e]);let v=(e,s)=>{a&&l({...a,[e]:s})},N=(e,s)=>{a&&l({...a,stats:{...a.stats,[e]:s}})},C=async e=>{var s;if(!a)return;let n=null===(s=e.target.files)||void 0===s?void 0:s[0];if(n){p(!0),f("Lade Bild hoch...");try{let e=(0,o.iH)(i.t,"players/".concat(a.id));await (0,o.KV)(e,n);let s=await (0,o.Jt)(e);l({...a,imageUrl:s}),f("Bild erfolgreich hochgeladen!")}catch(e){console.error(e),f("Fehler beim Bild-Upload.")}finally{p(!1)}}},y=async e=>{if(e.preventDefault(),a){x(!0),f("Speichere \xc4nderungen...");try{await (0,r.setDoc)((0,r.doc)(i.db,"players",a.id),a),f("Spieler gespeichert!")}catch(e){console.error(e),f("Fehler beim Speichern!")}finally{x(!1)}}};return c?(0,s.jsx)("main",{className:"p-6 text-slate-400",children:"Spieler wird geladen…"}):a?(0,s.jsxs)("main",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold",children:"Spieler bearbeiten"}),j&&(0,s.jsx)("p",{className:"text-sm text-emerald-400",children:j}),(0,s.jsxs)("form",{onSubmit:y,className:"space-y-8",children:[(0,s.jsxs)("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Basisdaten"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsx)(u,{label:"Name",value:a.name,onChange:e=>v("name",e)}),(0,s.jsx)(u,{label:"Alter",type:"number",value:a.age,onChange:e=>v("age",Number(e))}),(0,s.jsx)(u,{label:"Nation",value:a.nationality,onChange:e=>v("nationality",e)}),(0,s.jsx)(u,{label:"Verein",value:a.club,onChange:e=>v("club",e)}),(0,s.jsx)(u,{label:"Liga",value:a.league,onChange:e=>v("league",e)}),(0,s.jsx)(u,{label:"Position",value:a.position,onChange:e=>v("position",e)}),(0,s.jsx)(u,{label:"Starker Fu\xdf",value:a.foot,onChange:e=>v("foot",e)}),(0,s.jsx)(u,{label:"Gr\xf6\xdfe (cm)",type:"number",value:a.heightCm||"",onChange:e=>v("heightCm",Number(e))})]})]}),(0,s.jsxs)("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Scouting Bewertungen"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsx)(d,{label:"Technik",value:a.stats.technik,onChange:e=>N("technik",e)}),(0,s.jsx)(d,{label:"Tempo",value:a.stats.tempo,onChange:e=>N("tempo",e)}),(0,s.jsx)(d,{label:"Physis",value:a.stats.physis,onChange:e=>N("physis",e)}),(0,s.jsx)(d,{label:"Intelligenz",value:a.stats.intelligenz,onChange:e=>N("intelligenz",e)}),(0,s.jsx)(d,{label:"Defensiv",value:a.stats.defensiv,onChange:e=>N("defensiv",e)}),(0,s.jsx)(d,{label:"Offensiv",value:a.stats.offensiv,onChange:e=>N("offensiv",e)}),(0,s.jsx)(d,{label:"Potenzial (0-100)",value:a.potentialRating,onChange:e=>v("potentialRating",e)}),(0,s.jsx)(d,{label:"Gesamtbewertung (optional)",value:a.overallRating||0,onChange:e=>v("overallRating",e)})]})]}),(0,s.jsxs)("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"St\xe4rken & Schw\xe4chen"}),(0,s.jsx)(h,{label:"St\xe4rken (eine pro Zeile)",value:a.strengths.join("\n"),onChange:e=>v("strengths",e.split("\n"))}),(0,s.jsx)(h,{label:"Schw\xe4chen (eine pro Zeile)",value:a.weaknesses.join("\n"),onChange:e=>v("weaknesses",e.split("\n"))})]}),(0,s.jsxs)("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Marktwert"}),(0,s.jsx)(u,{label:"Marktwert (€)",type:"number",value:a.marketValue||"",onChange:e=>v("marketValue",Number(e))}),(0,s.jsx)(u,{label:"Quelle",value:a.marketValueSource||"",onChange:e=>v("marketValueSource",e)}),(0,s.jsx)(u,{label:"Quelle URL",value:a.marketValueUrl||"",onChange:e=>v("marketValueUrl",e)})]}),(0,s.jsxs)("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Management / Agentur"}),(0,s.jsx)(u,{label:"Agentur",value:a.agency||"",onChange:e=>v("agency",e)}),(0,s.jsx)(u,{label:"Agentur URL",value:a.agencyUrl||"",onChange:e=>v("agencyUrl",e)})]}),(0,s.jsxs)("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6 space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Profilbild"}),(0,s.jsx)("input",{type:"file",onChange:C,className:"text-sm"}),a.imageUrl&&(0,s.jsx)("img",{src:a.imageUrl,className:"w-32 h-32 object-cover rounded-lg mt-4 border border-slate-700"}),b&&(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"Bild wird hochgeladen…"})]}),(0,s.jsx)("button",{type:"submit",disabled:m,className:"rounded-lg bg-emerald-500 px-5 py-3 font-semibold text-slate-900 hover:bg-emerald-400 disabled:opacity-50",children:m?"Speichere…":"Speichern"})]})]}):(0,s.jsx)("main",{className:"p-6 text-red-400",children:"Spieler nicht gefunden."})}function u(e){let{label:a,value:l,onChange:n,type:t="text"}=e;return(0,s.jsxs)("label",{className:"flex flex-col text-sm",children:[(0,s.jsx)("span",{className:"text-xs text-slate-400 mb-1",children:a}),(0,s.jsx)("input",{type:t,value:l,onChange:e=>n(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1 outline-none"})]})}function d(e){let{label:a,value:l,onChange:n}=e;return(0,s.jsx)(u,{label:a,type:"number",value:l,onChange:e=>n(Number(e))})}function h(e){let{label:a,value:l,onChange:n}=e;return(0,s.jsxs)("label",{className:"flex flex-col text-sm",children:[(0,s.jsx)("span",{className:"text-xs text-slate-400 mb-1",children:a}),(0,s.jsx)("textarea",{value:l,onChange:e=>n(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-2 outline-none h-32"})]})}},7293:function(e,a,l){"use strict";l.d(a,{I:function(){return d},db:function(){return u},t:function(){return h}});var s=l(738),n=l(5978),t=l(3301),r=l(62),i=l(257);let o={apiKey:i.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:i.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:i.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:i.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:i.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:i.env.NEXT_PUBLIC_FIREBASE_APP_ID};o.projectId||console.warn("Firebase config not set. Check .env.local");let c=(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)(o),u=(0,n.getFirestore)(c),d=(0,t.v0)(c),h=(0,r.cF)(c)},9376:function(e,a,l){"use strict";var s=l(5475);l.o(s,"useParams")&&l.d(a,{useParams:function(){return s.useParams}}),l.o(s,"useRouter")&&l.d(a,{useRouter:function(){return s.useRouter}}),l.o(s,"useSearchParams")&&l.d(a,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[358,990,933,971,117,744],function(){return e(e.s=9553)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{7407:function(e,t,n){Promise.resolve().then(n.bind(n,2307))},2307:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(7437),s=n(2265),a=n(9376),u=n(575),i=n(7648);function l(e){let{children:t}=e,{user:n,role:l,loading:c}=(0,u.a)(),d=(0,a.useRouter)();return((0,s.useEffect)(()=>{c||(n?"admin"!==l&&d.push("/"):d.push("/login"))},[n,l,c,d]),c||!n||"admin"!==l)?(0,r.jsx)("main",{className:"p-6 text-sm text-slate-400",children:"Admin-Bereich wird geladen..."}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-4 flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold",children:"Admin Bereich"}),(0,r.jsxs)("nav",{className:"flex gap-4 text-sm",children:[(0,r.jsx)(i.default,{href:"/admin",className:"hover:text-emerald-400 transition",children:"Dashboard"}),(0,r.jsx)(i.default,{href:"/admin/seed",className:"hover:text-emerald-400 transition",children:"Seed (Spieler laden)"}),(0,r.jsx)(i.default,{href:"/admin/clubs",className:"hover:text-emerald-400 transition",children:"Vereine"}),(0,r.jsx)(i.default,{href:"/admin/needs",className:"hover:text-emerald-400 transition",children:"Bedarfslisten"}),(0,r.jsx)(i.default,{href:"/admin/users",className:"hover:text-emerald-400 transition",children:"Benutzerverwaltung"})]})]}),(0,r.jsx)("div",{children:t})]})}},575:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return c},a:function(){return d}});var r=n(7437),s=n(2265),a=n(7293),u=n(3301),i=n(5978);let l=(0,s.createContext)({user:null,role:null,loading:!0,logout:async()=>{}});function c(e){let{children:t}=e,[n,c]=(0,s.useState)(null),[d,o]=(0,s.useState)(null),[f,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,u.Aj)(a.I,async e=>{if(c(e),e){let t=await (0,i.getDoc)((0,i.doc)(a.db,"userRoles",e.uid));o(t.exists()?t.data().role:"none")}else o(null);h(!1)});return()=>e()},[]);let m=async()=>{await (0,u.w7)(a.I)};return(0,r.jsx)(l.Provider,{value:{user:n,role:d,loading:f,logout:m},children:t})}let d=()=>(0,s.useContext)(l)},7293:function(e,t,n){"use strict";n.d(t,{I:function(){return o},db:function(){return d},t:function(){return f}});var r=n(738),s=n(5978),a=n(3301),u=n(62),i=n(257);let l={apiKey:i.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:i.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:i.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:i.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:i.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:i.env.NEXT_PUBLIC_FIREBASE_APP_ID};l.projectId||console.warn("Firebase config not set. Check .env.local");let c=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)(l),d=(0,s.getFirestore)(c),o=(0,a.v0)(c),f=(0,u.cF)(c)},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[358,990,933,648,971,117,744],function(){return e(e.s=7407)}),_N_E=e.O()}]);
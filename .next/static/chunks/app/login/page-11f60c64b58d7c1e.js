(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2497:function(e,t,s){Promise.resolve().then(s.bind(s,6374))},6374:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var n=s(7437),a=s(2265),r=s(3301),l=s(7293),u=s(9376),o=s(5978);function i(){let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),f=(0,u.useRouter)(),g=async t=>{t.preventDefault(),d(null),x(!0);try{let t=await (0,r.e5)(l.I,e,s),n=(0,o.doc)(l.db,"userRoles",t.user.uid),a=await (0,o.getDoc)(n),u=a.exists()?a.data().role:"none";"admin"===u?f.push("/admin"):"reader"===u?f.push("/"):d("Keine g\xfcltige Rolle zugewiesen (admin/reader).")}catch(e){console.error(e),d("Login fehlgeschlagen. Bitte Zugangsdaten pr\xfcfen.")}finally{x(!1)}};return(0,n.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-50",children:(0,n.jsxs)("form",{onSubmit:g,className:"w-full max-w-sm rounded-2xl border border-slate-800 bg-slate-900/70 p-6 space-y-3 text-sm",children:[(0,n.jsx)("h1",{className:"text-xl font-semibold mb-2 text-center",children:"Scout 360 Login"}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("label",{className:"text-xs text-slate-400",children:"E-Mail"}),(0,n.jsx)("input",{type:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1 outline-none focus:border-emerald-400"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("label",{className:"text-xs text-slate-400",children:"Passwort"}),(0,n.jsx)("input",{type:"password",required:!0,value:s,onChange:e=>i(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1 outline-none focus:border-emerald-400"})]}),c&&(0,n.jsx)("p",{className:"text-xs text-red-400",children:c}),(0,n.jsx)("button",{type:"submit",disabled:m,className:"w-full rounded-lg bg-emerald-500 py-2 text-sm font-semibold text-slate-950 hover:bg-emerald-400 disabled:opacity-60",children:m?"Anmelden ...":"Login"})]})})}},7293:function(e,t,s){"use strict";s.d(t,{I:function(){return d},db:function(){return c},t:function(){return m}});var n=s(738),a=s(5978),r=s(3301),l=s(62),u=s(257);let o={apiKey:u.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:u.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:u.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:u.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:u.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:u.env.NEXT_PUBLIC_FIREBASE_APP_ID};o.projectId||console.warn("Firebase config not set. Check .env.local");let i=(0,n.C6)().length?(0,n.Mq)():(0,n.ZF)(o),c=(0,a.getFirestore)(i),d=(0,r.v0)(i),m=(0,l.cF)(i)},9376:function(e,t,s){"use strict";var n=s(5475);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[358,990,933,971,117,744],function(){return e(e.s=2497)}),_N_E=e.O()}]);
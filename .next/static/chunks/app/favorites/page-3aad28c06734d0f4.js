(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{5842:function(e,t,n){Promise.resolve().then(n.bind(n,6629))},6629:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var s=n(7437),a=n(2265),l=n(5978),r=n(7293),i=n(575),c=n(7648);function o(){let{user:e}=(0,i.a)(),[t,n]=(0,a.useState)([]),[o,d]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{e&&(async()=>{d(!0);let t=(0,l.query)((0,l.collection)(r.db,"videoFavorites"),(0,l.where)("userId","==",e.uid));n((await (0,l.getDocs)(t)).docs.map(e=>({id:e.id,...e.data()}))),d(!1)})()},[e]),e)?(0,s.jsxs)("main",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold",children:"Meine Video-Favoriten"}),o&&(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"Lade Favoriten..."}),!o&&0===t.length&&(0,s.jsx)("p",{className:"text-sm text-slate-500",children:"Keine Favoriten vorhanden."}),(0,s.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,s.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/60 p-4 text-sm",children:[(0,s.jsx)("p",{className:"text-slate-300 font-semibold mb-1",children:e.videoTitle}),(0,s.jsxs)("p",{className:"text-xs text-slate-400 mb-2",children:["Spieler-ID: ",e.playerId]}),(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("a",{href:e.videoUrl,target:"_blank",className:"text-emerald-400 hover:text-emerald-300 text-xs",children:"→ Video \xf6ffnen"}),(0,s.jsx)(c.default,{href:"/players/".concat(e.playerId,"/videos"),className:"text-slate-400 hover:text-slate-200 text-xs",children:"→ Spieler-Videoseite"})]})]},e.id))})]}):(0,s.jsx)("main",{className:"p-6 text-sm text-slate-400",children:"Bitte einloggen, um Favoriten zu sehen."})}},575:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return o},a:function(){return d}});var s=n(7437),a=n(2265),l=n(7293),r=n(3301),i=n(5978);let c=(0,a.createContext)({user:null,role:null,loading:!0,logout:async()=>{}});function o(e){let{children:t}=e,[n,o]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),[x,_]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=(0,r.Aj)(l.I,async e=>{if(o(e),e){let t=await (0,i.getDoc)((0,i.doc)(l.db,"userRoles",e.uid));u(t.exists()?t.data().role:"none")}else u(null);_(!1)});return()=>e()},[]);let f=async()=>{await (0,r.w7)(l.I)};return(0,s.jsx)(c.Provider,{value:{user:n,role:d,loading:x,logout:f},children:t})}let d=()=>(0,a.useContext)(c)},7293:function(e,t,n){"use strict";n.d(t,{I:function(){return u},db:function(){return d},t:function(){return x}});var s=n(738),a=n(5978),l=n(3301),r=n(62),i=n(257);let c={apiKey:i.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:i.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:i.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:i.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:i.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:i.env.NEXT_PUBLIC_FIREBASE_APP_ID};c.projectId||console.warn("Firebase config not set. Check .env.local");let o=(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)(c),d=(0,a.getFirestore)(o),u=(0,l.v0)(o),x=(0,r.cF)(o)}},function(e){e.O(0,[358,990,933,648,971,117,744],function(){return e(e.s=5842)}),_N_E=e.O()}]);